#!/bin/bash
# Test SandboxBox as an npx tool

echo "ğŸ§ª Testing SandboxBox via npx"
echo "================================"
echo ""

echo "1ï¸âƒ£  Check if npx sandboxbox works..."
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
cd /tmp
npx sandboxbox version
echo ""

echo "2ï¸âƒ£  Test help command..."
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
npx sandboxbox --help | head -15
echo ""

echo "3ï¸âƒ£  Test from different directory..."
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
cd /config/workspace/claudtainer
pwd
npx sandboxbox version
echo ""

echo "4ï¸âƒ£  Test running a project..."
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
npx sandboxbox run-host test-project "echo 'SandboxBox via npx works!' && node --version"
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "âœ… npx sandboxbox is fully functional!"
echo ""
echo "Users can run:"
echo "  npx sandboxbox build Dockerfile"
echo "  npx sandboxbox run-host my-project"
echo "  npx sandboxbox shell my-project"
echo ""
